{"ast":null,"code":"var _jsxFileName = \"/Users/j0dev/Desktop/j0dev/Study/react/api-integrate/src/UserContext.js\";\nimport React, { createContext, useReducer, useContext } from \"react\";\nimport axios from \"axios\";\nconst initalState = {\n  users: {\n    loading: false,\n    data: null,\n    error: null\n  },\n  user: {\n    loading: false,\n    data: null,\n    error: null\n  }\n};\nconst loadingState = {\n  loading: true,\n  data: null,\n  error: null\n};\n\nconst success = data => ({\n  loading: false,\n  data,\n  error: null\n});\n\nconst error = e => ({\n  loading: true,\n  data: null,\n  error: e\n});\n\nfunction usersReducer(state, action) {\n  switch (action.type) {\n    case \"GET_USERS\":\n      return { ...state,\n        users: loadingState\n      };\n\n    case \"GET_USERS_SUCCESS\":\n      return { ...state,\n        users: success(action.data)\n      };\n\n    case \"GET_USERS_ERROR\":\n      return { ...state,\n        users: error(action.error)\n      };\n\n    case \"GET_USER\":\n      return { ...state,\n        user: loadingState\n      };\n\n    case \"GET_USER_SUCCESS\":\n      return { ...state,\n        user: success(action.data)\n      };\n\n    case \"GET_USER_ERROR\":\n      return { ...state,\n        user: error(action.error)\n      };\n\n    default:\n      throw new Error(`UnHandled action type ${action.type}`);\n  }\n}\n\nconst UsersStateContext = createContext(null);\nconst USersDispatchContext = createContext(null);\nexport function UsersProvider({\n  children\n}) {\n  const [state, dispatch] = useReducer(usersReducer, initalState);\n  return /*#__PURE__*/React.createElement(UsersStateContext.Provider, {\n    value: state,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(USersDispatchContext.Provider, {\n    value: dispatch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, children));\n}\nexport function useUsersState() {\n  const state = useContext(UsersStateContext);\n\n  if (!state) {\n    throw new Error(\"Cannot find UserProvider\");\n  }\n\n  return state;\n}\nexport function useUsersDispatch() {\n  const dispatch = useContext(USersDispatchContext);\n\n  if (!dispatch) {\n    throw new Error(\"Cannot find UserProvider\");\n  }\n\n  return dispatch;\n}\nexport async function getUsers(dispatch) {\n  dispatch({\n    type: \"GET_USERS\"\n  });\n\n  try {\n    const res = await axios.get(\"https://jsonplaceholder.typicode.com/users\");\n    dispatch({\n      type: \"GET_USERS_SUCCESS\",\n      data: res.data\n    });\n  } catch (e) {\n    dispatch({\n      type: \"GET_USERS_ERROR\",\n      error: e\n    });\n  }\n}\nexport async function getUser(dispatch, id) {\n  dispatch({\n    type: \"GET_USER\"\n  });\n\n  try {\n    const res = await axios.get(`https://jsonplaceholder.typicode.com/users/${id}`);\n    dispatch({\n      type: \"GET_USER_SUCCESS\",\n      data: res.data\n    });\n  } catch (e) {\n    dispatch({\n      type: \"GET_USER_ERROR\",\n      error: e\n    });\n  }\n}","map":{"version":3,"sources":["/Users/j0dev/Desktop/j0dev/Study/react/api-integrate/src/UserContext.js"],"names":["React","createContext","useReducer","useContext","axios","initalState","users","loading","data","error","user","loadingState","success","e","usersReducer","state","action","type","Error","UsersStateContext","USersDispatchContext","UsersProvider","children","dispatch","useUsersState","useUsersDispatch","getUsers","res","get","getUser","id"],"mappings":"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","sourcesContent":["import React, { createContext, useReducer, useContext } from \"react\";\nimport axios from \"axios\";\n\nconst initalState = {\n  users: {\n    loading: false,\n    data: null,\n    error: null\n  },\n  user: {\n    loading: false,\n    data: null,\n    error: null\n  }\n};\n\nconst loadingState = {\n  loading: true,\n  data: null,\n  error: null\n};\n\nconst success = data => ({\n  loading: false,\n  data,\n  error: null\n});\n\nconst error = e => ({\n  loading: true,\n  data: null,\n  error: e\n});\n\nfunction usersReducer(state, action) {\n  switch (action.type) {\n    case \"GET_USERS\":\n      return {\n        ...state,\n        users: loadingState\n      };\n    case \"GET_USERS_SUCCESS\":\n      return {\n        ...state,\n        users: success(action.data)\n      };\n    case \"GET_USERS_ERROR\":\n      return {\n        ...state,\n        users: error(action.error)\n      };\n    case \"GET_USER\":\n      return {\n        ...state,\n        user: loadingState\n      };\n    case \"GET_USER_SUCCESS\":\n      return {\n        ...state,\n        user: success(action.data)\n      };\n    case \"GET_USER_ERROR\":\n      return {\n        ...state,\n        user: error(action.error)\n      };\n\n    default:\n      throw new Error(`UnHandled action type ${action.type}`);\n  }\n}\n\nconst UsersStateContext = createContext(null);\nconst USersDispatchContext = createContext(null);\n\nexport function UsersProvider({ children }) {\n  const [state, dispatch] = useReducer(usersReducer, initalState);\n  return (\n    <UsersStateContext.Provider value={state}>\n      <USersDispatchContext.Provider value={dispatch}>\n        {children}\n      </USersDispatchContext.Provider>\n    </UsersStateContext.Provider>\n  );\n}\n\nexport function useUsersState() {\n  const state = useContext(UsersStateContext);\n  if (!state) {\n    throw new Error(\"Cannot find UserProvider\");\n  }\n  return state;\n}\n\nexport function useUsersDispatch() {\n  const dispatch = useContext(USersDispatchContext);\n  if (!dispatch) {\n    throw new Error(\"Cannot find UserProvider\");\n  }\n  return dispatch;\n}\n\nexport async function getUsers(dispatch) {\n  dispatch({ type: \"GET_USERS\" });\n  try {\n    const res = await axios.get(\"https://jsonplaceholder.typicode.com/users\");\n    dispatch({\n      type: \"GET_USERS_SUCCESS\",\n      data: res.data\n    });\n  } catch (e) {\n    dispatch({\n      type: \"GET_USERS_ERROR\",\n      error: e\n    });\n  }\n}\n\nexport async function getUser(dispatch, id) {\n  dispatch({ type: \"GET_USER\" });\n  try {\n    const res = await axios.get(\n      `https://jsonplaceholder.typicode.com/users/${id}`\n    );\n    dispatch({\n      type: \"GET_USER_SUCCESS\",\n      data: res.data\n    });\n  } catch (e) {\n    dispatch({\n      type: \"GET_USER_ERROR\",\n      error: e\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}